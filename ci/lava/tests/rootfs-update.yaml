# Copyright (c) 2019, Arm Limited and Contributors. All rights reserved.
#
# SPDX-License-Identifier: BSD-3-Clause

metadata:
    format: Lava-Test Test Definition 1.0
    name: RootFS update
    description: RootFS update

parameters:
    # test_stage: specifies which stage of the test we are running - the
    #             update or the post check
    #
    test_stage:

    # image_url: specifies the url of the test image in order to extract the
    #            root_fs image
    #
    image_url:

    # pelion_update : specifies the update mechanism - PELION or MBL_CLI
    #
    pelion_update:

    #
    # virtual_env: specifies the Python virtual environment
    #
    virtual_env:

run:
    steps:
        - ./ci/lava/tests/rootfs-update.sh --venv $virtual_env --stage $test_stage --image $image_url --update $pelion_update
