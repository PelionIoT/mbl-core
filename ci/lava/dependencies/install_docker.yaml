# Copyright (c) 2019, Arm Limited and Contributors. All rights reserved.
#
# SPDX-License-Identifier: BSD-3-Clause

metadata:
    format: "Lava-Test Test Definition 1.0"
    name: Install Docker into LXC Container
    description: "Install Docker into LXC Container"

run:
    steps:
        - apt-get update
        - apt-get install --yes apt-transport-https ca-certificates curl gnupg-agent software-properties-common
        - curl -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -
        - apt-key fingerprint 0EBFCD88
        - add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"
        - apt-get update
        - apt-get install --yes docker-ce docker-ce-cli containerd.io
        - apt-get install apt-utils
        - addgroup ubuntu docker
